<ion-view view-title="Chat">

  <ion-content class="content-stable"
    on-swipe-left="hideTime = false"
    on-swipe-right="hideTime = true">

    <div ng-repeat="message in messages track by message.id"
         ng-class="{other: message.origin === 'client'}"
         class="messages">

      <div class="message" ng-class="{'slide-right': hideTime, '': !hideTime}">
        <span>{{ message.text }}</span>
      </div>

      <div class="time" ng-class="{'slide-right': hideTime, '': !hideTime}">{{message.time}}</div>
    </div>
  </ion-content>

  <ion-footer-bar keyboard-attach class="bar-stable item-input-inset">
    <form ng-submit="sendMessage(); closeKeyboard()">
      <label class="item-input-wrapper">
        <input type="text" placeholder="Type your message" ng-model="data.message" on-focus="inputUp()" on-blur="inputDown()" />
      </label>

      <ion-spinner ng-show="chatLoading"></ion-spinner>
      <button class="button button-clear" type="submit" ng-hide="chatLoading">Send</button>
    </form>
  </ion-footer-bar>
</ion-view>
